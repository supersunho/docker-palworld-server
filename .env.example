# =============================================================================
# Palworld Dedicated Server Environment Variables
# Copy this file to .env and modify the values as needed
# =============================================================================

# -----------------------------------------------------------------------------
# Core Server Configuration
# -----------------------------------------------------------------------------
SERVER_NAME=Palworld Server
SERVER_PASSWORD=
ADMIN_PASSWORD=admin123
MAX_PLAYERS=32
SERVER_PORT=8211
SERVER_DESCRIPTION=A Palworld dedicated server

# -----------------------------------------------------------------------------
# Network and API Configuration
# -----------------------------------------------------------------------------
# REST API Settings
RESTAPI_ENABLED=true
RESTAPI_PORT=8212
RESTAPI_HOST=localhost

# RCON Settings
RCON_ENABLED=true
RCON_PORT=25575
RCON_HOST=localhost

# Network Settings
PUBLIC_IP=
PUBLIC_PORT=8211
QUERY_PORT=27018

# -----------------------------------------------------------------------------
# Server Startup Performance Options
# -----------------------------------------------------------------------------
USE_PERFORMANCE_THREADS=true
DISABLE_ASYNC_LOADING=true
USE_MULTITHREAD_FOR_DS=true
WORKER_THREADS_COUNT=0
LOG_FORMAT=text
ENABLE_PUBLIC_LOBBY=false
ADDITIONAL_SERVER_OPTIONS=

# -----------------------------------------------------------------------------
# Game Configuration
# -----------------------------------------------------------------------------
# Basic Game Settings
COOP_PLAYER_MAX_NUM=4
SERVER_PLAYER_MAX_NUM=32
USE_AUTH=true
REGION=
BAN_LIST_URL=https://api.palworldgame.com/api/banlist.txt

# Difficulty and Mode
DIFFICULTY=None
DEATH_PENALTY=All
HARDCORE=false
IS_MULTIPLAY=true
IS_PVP=false

# Randomizer Settings
RANDOMIZER_TYPE=None
RANDOMIZER_SEED=
IS_RANDOMIZER_PAL_LEVEL_RANDOM=false

# -----------------------------------------------------------------------------
# Gameplay Rates and Multipliers
# -----------------------------------------------------------------------------
# Time and Experience
DAY_TIME_SPEED_RATE=1.0
NIGHT_TIME_SPEED_RATE=1.0
EXP_RATE=1.0
WORK_SPEED_RATE=1.0

# Pal Settings
PAL_CAPTURE_RATE=1.0
PAL_SPAWN_NUM_RATE=1.0
PAL_DAMAGE_RATE_ATTACK=1.0
PAL_DAMAGE_RATE_DEFENSE=1.0
PAL_AUTO_HP_REGENE_RATE=1.0
PAL_AUTO_HP_REGENE_RATE_IN_SLEEP=1.0
PAL_EGG_DEFAULT_HATCHING_TIME=72.0
PAL_STAMINA_DECREACE_RATE=1.0
PAL_STOMACH_DECREACE_RATE=1.0

# Player Settings
PLAYER_DAMAGE_RATE_ATTACK=1.0
PLAYER_DAMAGE_RATE_DEFENSE=1.0
PLAYER_AUTO_HP_REGENE_RATE=1.0
PLAYER_AUTO_HP_REGENE_RATE_IN_SLEEP=1.0
PLAYER_STAMINA_DECREACE_RATE=1.0
PLAYER_STOMACH_DECREACE_RATE=1.0

# -----------------------------------------------------------------------------
# Combat and PvP Settings
# -----------------------------------------------------------------------------
ENABLE_PLAYER_TO_PLAYER_DAMAGE=false
ENABLE_FRIENDLY_FIRE=false
ENABLE_INVADER_ENEMY=true

# -----------------------------------------------------------------------------
# Building and Objects
# -----------------------------------------------------------------------------
BUILD_OBJECT_DAMAGE_RATE=1.0
BUILD_OBJECT_DETERIORATION_DAMAGE_RATE=1.0
BUILD_OBJECT_HP_RATE=1.0
COLLECTION_DROP_RATE=1.0
COLLECTION_OBJECT_HP_RATE=1.0
COLLECTION_OBJECT_RESPAWN_SPEED_RATE=1.0
ENEMY_DROP_ITEM_RATE=1.0
BUILD_AREA_LIMIT=false
MAX_BUILDING_LIMIT_NUM=0

# -----------------------------------------------------------------------------
# Base Camp and Guild Settings
# -----------------------------------------------------------------------------
BASE_CAMP_MAX_NUM=128
BASE_CAMP_WORKER_MAX_NUM=15
BASE_CAMP_MAX_NUM_IN_GUILD=4

GUILD_PLAYER_MAX_NUM=20
AUTO_RESET_GUILD_NO_ONLINE_PLAYERS=false
AUTO_RESET_GUILD_TIME_NO_ONLINE_PLAYERS=72.0

# -----------------------------------------------------------------------------
# Items and Drops
# -----------------------------------------------------------------------------
DROP_ITEM_MAX_NUM=3000
DROP_ITEM_MAX_NUM_UNKO=100
DROP_ITEM_ALIVE_MAX_HOURS=1.0
ITEM_WEIGHT_RATE=1.0
EQUIPMENT_DURABILITY_DAMAGE_RATE=1.0

# -----------------------------------------------------------------------------
# Game Mechanics
# -----------------------------------------------------------------------------
ACTIVE_UNKO=false
ENABLE_AIM_ASSIST_PAD=true
ENABLE_AIM_ASSIST_KEYBOARD=false
CAN_PICKUP_OTHER_GUILD_DEATH_PENALTY_DROP=false
ENABLE_NON_LOGIN_PENALTY=true
ENABLE_FAST_TRAVEL=true
IS_START_LOCATION_SELECT_BY_MAP=true
EXIST_PLAYER_AFTER_LOGOUT=false
ENABLE_DEFENSE_OTHER_GUILD_PLAYER=false
INVISIBLE_OTHER_GUILD_BASE_CAMP_AREA_FX=false

# -----------------------------------------------------------------------------
# Save and Backup Settings
# -----------------------------------------------------------------------------
AUTO_SAVE_SPAN=30.0
IS_USE_BACKUP_SAVE_DATA=true

# -----------------------------------------------------------------------------
# Communication Settings
# -----------------------------------------------------------------------------
SHOW_PLAYER_LIST=false
CHAT_POST_LIMIT_PER_MINUTE=30

# -----------------------------------------------------------------------------
# Hardcore and Loss Settings
# -----------------------------------------------------------------------------
PAL_LOST=false
CHARACTER_RECREATE_IN_HARDCORE=false

# -----------------------------------------------------------------------------
# Logging and Monitoring
# -----------------------------------------------------------------------------
LOG_FORMAT_TYPE=Text
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Special Events and Features
# -----------------------------------------------------------------------------
ENABLE_PREDATOR_BOSS_PAL=true
SUPPLY_DROP_SPAN=180

# -----------------------------------------------------------------------------
# Platform Settings
# -----------------------------------------------------------------------------
CROSSPLAY_PLATFORMS=(Steam,Xbox,PS5,Mac)

# -----------------------------------------------------------------------------
# Global Palbox Settings
# -----------------------------------------------------------------------------
ALLOW_GLOBAL_PALBOX_EXPORT=true
ALLOW_GLOBAL_PALBOX_IMPORT=false

# -----------------------------------------------------------------------------
# Network Performance Settings
# -----------------------------------------------------------------------------
SERVER_REPLICATE_PAWN_CULL_DISTANCE=15000.0
ITEM_CONTAINER_FORCE_MARK_DIRTY_INTERVAL=1.0

# -----------------------------------------------------------------------------
# Monitoring and Metrics
# -----------------------------------------------------------------------------
MONITORING_MODE=logs
METRICS_INTERVAL=60
ENABLE_DASHBOARD=true
DASHBOARD_PORT=8080

# -----------------------------------------------------------------------------
# Idle Restart Configuration (NEW FEATURE)
# -----------------------------------------------------------------------------
IDLE_RESTART_ENABLED=true
IDLE_RESTART_MINUTES=30

# -----------------------------------------------------------------------------
# Backup System Configuration
# -----------------------------------------------------------------------------
BACKUP_ENABLED=true
BACKUP_INTERVAL=3600
BACKUP_RETENTION_DAYS=7
BACKUP_RETENTION_WEEKS=4
BACKUP_RETENTION_MONTHS=6
BACKUP_COMPRESS=true
BACKUP_MAX_COUNT=100
BACKUP_CLEANUP_INTERVAL=86400

# -----------------------------------------------------------------------------
# Discord Notifications
# -----------------------------------------------------------------------------
DISCORD_ENABLED=false
DISCORD_WEBHOOK_URL=
DISCORD_MENTION_ROLE=
DISCORD_EVENT_START=true
DISCORD_EVENT_STOP=true
DISCORD_EVENT_JOIN=true
DISCORD_EVENT_LEAVE=true
DISCORD_EVENT_BACKUP=true
DISCORD_EVENT_ERRORS=true
DISCORD_EVENT_IDLE_RESTART=true

# -----------------------------------------------------------------------------
# Language Configuration
# -----------------------------------------------------------------------------
LANGUAGE=ko

# -----------------------------------------------------------------------------
# Directory Paths
# -----------------------------------------------------------------------------
SERVER_DIR=/home/steam/palworld_server
BACKUP_DIR=/home/steam/backups
LOG_DIR=/home/steam/logs
STEAMCMD_DIR=/home/steam/steamcmd

# -----------------------------------------------------------------------------
# SteamCMD Configuration
# -----------------------------------------------------------------------------
STEAMCMD_APP_ID=2394010
STEAMCMD_VALIDATE=true
AUTO_UPDATE=true
UPDATE_ON_START=true

# -----------------------------------------------------------------------------
# Engine Performance Configuration
# -----------------------------------------------------------------------------
ENGINE_LAN_TICK_RATE=120
ENGINE_NET_TICK_RATE=120
ENGINE_INTERNET_SPEED=104857600
ENGINE_LAN_SPEED=104857600
ENGINE_MAX_CLIENT_RATE=104857600
ENGINE_MAX_INTERNET_CLIENT_RATE=104857600
ENGINE_SMOOTH_FRAME_RATE=true
ENGINE_USE_FIXED_FRAME_RATE=false
ENGINE_MIN_FRAME_RATE=60.0
ENGINE_FIXED_FRAME_RATE=120.0
ENGINE_CLIENT_TICKS=120
ENGINE_FRAME_RATE_LOWER=30.0
ENGINE_FRAME_RATE_UPPER=120.0

# =============================================================================
# NEW FEATURES QUICK REFERENCE:
# =============================================================================
# 
# ðŸ”„ IDLE RESTART FEATURE:
# - IDLE_RESTART_ENABLED: Enable/disable auto-restart when no players
# - IDLE_RESTART_MINUTES: Minutes to wait before restart (default: 30)
# - DISCORD_EVENT_IDLE_RESTART: Send Discord notification for idle restarts
#
# ðŸ“± ARM64 OPTIMIZATION:
# - Optimized for Apple Silicon, Raspberry Pi, AWS Graviton
# - Uses FEX emulation for superior performance on ARM64
#
# ðŸ’¬ MULTI-LANGUAGE DISCORD:
# - LANGUAGE: Set to 'ko', 'en', or 'ja' for localized notifications
#
# =============================================================================
# Usage Instructions:
# 1. Copy this file to .env: cp .env.sample .env
# 2. Modify the values in .env as needed for your environment
# 3. Use with docker-compose: docker-compose up -d
# 
# Example - Enable idle restart with 45 minutes:
# IDLE_RESTART_ENABLED=true
# IDLE_RESTART_MINUTES=45
# DISCORD_EVENT_IDLE_RESTART=true
# =============================================================================
